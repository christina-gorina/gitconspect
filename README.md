GIT
Локальное и удаленное представление веток

origin/имяветки – так называется локальное представление ветки на локальной машине.

origin имяветки – это адрес ветки уже на удаленном репозитории

Создание нового локального репозитория

Создаем в корне файл .gitignore и записываем туда то, что не должно в git попадать

Например, обязательно сначала создаем иначе идея при первом комите фигни в гит накидает

.idea
target
*.iml

Далее

git init инициализировать репозиторий

git add .  добавить все файлы

git reset example.txt -  удалить случайно добавленный командой add файл

Далее делаем коммит. Удобнее через идею или GUI

git remote add origin https://github.com/christina-gorina/springmvckarkasjava  задаем удаленный репозиторий 

git push отправить изменения

При первой отправки на ветку, выдаст ошибку и предложение ввести вот такую команду

git push --set-upstream origin master

Далее вводим логин и пароль (Внимание, логин и пароль вводятся в отдельных окнах, пароль потом еще в одном и эти окна под всеми остальными, то есть надо все свернуть что бы их увидеть)


Полезные команды

git gui &
Вызываем GUI. & - значит открыть отдельную консоль гуи, а не в текущей открывать. В GUI можно указать  какие файлы добавлять в GIT и писать например комит. 

git config --global user.email christina.gorina@yandex.ru 


git config --global user.name "christina.gorina"


Задать логини пароль к перозиторию командой


git clone https://github.com/christina-gorina/ название.git

Копировать со своего репозитория в gitHub

git status – узнать статус git

git commit --amend  --no-edit – приплюсовать текущий коммит к предыдущему и не менять комментарий

git push -f  -f это форсировать, то есть как бы насильно сделать не смотря ни на что. 

git branch -D имяветки – удалить ветку (точнее пометить как удаленную -d удалить если она куда-то влита)

git checkout -B имяветки  - переключение с созданием (-B создает, -b создает, но если до этого была ветка с таким названием, то на нее попадем.)

git log --oneline -n5 посмотреть коммиты в одну строку 5 штук

git checkout имяветки – переключиться на ветку


git fetch origin имяветки – взять изменения с удаленного репозитория, но не переносить эти изменения на твою локальную ветку. То есть просто обновить представление о ветке на локальном репозитории. Никакие изменения накатываться не будут. 
Перенести можно с помощью git rebase origin/имяветки – при этом изменеия беруться из представления о состоянии этой ветки в локальном репозитории. Поэтому командой fetch сначала это представление и обновляем. 

git rebase --abort – отменить ребэйс

Еще ребэйсить можно так

git pull --rebase origin master – перенести изменения с удаленного репозитория на мою ветку, в данном примере с master. Моя ветка локальная текущая может быть другой, не master. Эта команда сразу берет представление с удаленного репозитория и ребейсит, то есть ребейс делается одной командой, а не двумя.

git stash – отложить изменения в stash

git stash pop – забрать изменения из stash на текущую ветку



git reflog -n20 – посмотреть историю, не log, а именно историю


git checkout -B Gorina origin/Gorina – создать, переключиться на новую ветку и при этом взять ее изменение с сервера, при этом перетиреть свою ветку с таким же названием.


Как смержить изменения

Заходим на ветку НА которую надо смержить изменеия. Например ветка Gorina. Допустим мержим с ветки LASTKOD. Тогда команда такая

git merge LASTKOD


Перенести коммит на верх другой ветки cherry-pick

Нужен номер коммита, его удобнее всего в git gui смотреть.

git cherry-pick номеркоммита – так перенести нужный коммит на ту ветку, на которой сейчас находишься.

ВНИМАНИЕ!!! cherry-pick надо еще завершить. Git пишет какой командой. 


Поменять удаленный репозторий


Допустим скачали проект с одного репозитория и надо перенести его в свой. Тогда создаем на githab пустой репозиторий,  у меня это https://github.com/christina-gorina/bootjava , скачиваем нужный нам проект и делаем команду по переписыванию origin репозитория
git remote set-url origin https://github.com/christina-gorina/bootjava


какой текуший удаленный репозиторий можно посмотреть командой 
git remote -v
















